{"exportVersion":6,"dashboards":{"dashboard-1":{"description":"Dashboard to monitor progress of mongosync cluster migrations","embedding":{"anonymousAuthEnabled":true,"providerAuthEnabled":true},"filters":[{"type":"String","disabled":false,"name":"namespace","settings":{"allOthers":true,"values":[]},"linkedFields":[{"dataSourceId":"data-source-2","fieldPath":"namespace"}]}],"layout":[{"i":"item-1","w":4,"h":2,"x":4,"y":2},{"i":"item-2","w":3,"h":2,"x":3,"y":4},{"i":"item-3","w":2,"h":1,"x":4,"y":0},{"i":"item-4","w":2,"h":1,"x":4,"y":1},{"i":"item-5","w":2,"h":2,"x":6,"y":4},{"i":"item-6","w":1,"h":1,"x":6,"y":0},{"i":"item-7","w":4,"h":2,"x":0,"y":0},{"i":"item-8","w":3,"h":2,"x":0,"y":4},{"i":"item-9","w":1,"h":1,"x":6,"y":1},{"i":"item-10","w":1,"h":1,"x":7,"y":1},{"i":"item-11","w":5,"h":2,"x":3,"y":8},{"i":"item-12","w":3,"h":2,"x":0,"y":8},{"i":"item-13","w":4,"h":2,"x":0,"y":2},{"i":"item-14","w":8,"h":2,"x":0,"y":6},{"i":"item-15","w":1,"h":1,"x":7,"y":0},{"i":"item-16","w":1,"h":1,"x":8,"y":0}],"title":"Mongosync Monitor Dashboard"}},"items":{"item-4":{"calculatedFields":[],"channels":{"value":{"channelType":"aggregation","inferredType":"String","field":"upperBound","type":"quantitative","aggregate":"count"},"label":{"channelType":"category","inferredType":"String","field":"partitionPhase","type":"nominal","isBinning":false,"allOthers":true}},"chartType":"Donut","convertedFields":[],"customisations":{"options":{"dataValueLabels":{"enabled":false,"value":"value"}},"axes":{},"channels":{"value":{"labelOverride":{"enabled":true,"value":"Partitions per phase"},"numberFormatting":{"enabled":true,"value":"Default"}},"label":{}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"donut","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Partition Phase distribution","embedding":{}},"item-5":{"calculatedFields":[],"channels":{"color":{"channelType":"category","inferredType":"String","field":"namespace.coll","type":"nominal","isBinning":false},"x":{"channelType":"aggregation","inferredType":"String","field":"upperBound","type":"quantitative","aggregate":"count"},"y":{"channelType":"category","inferredType":"String","field":"partitionPhase","type":"nominal","isBinning":false}},"chartType":"Grouped Bar","convertedFields":[],"customisations":{"options":{"colorDiscrete":{"enabled":true,"value":["#16CC62","#196EE6","#E6B219","#E6196E","#19C3E6","#116149","#E65D19","#8A27A5","#1392AB","#C10422","#73E0A1","#8CB6F2","#F0D175","#F075A8","#75DBF0","#70A092","#F09E75","#B97DC9","#71BECD","#DA6879"]}},"axes":{"x":{}},"channels":{"color":{"labelOverride":{"enabled":true,"value":"Collections"}},"x":{"labelOverride":{"enabled":true,"value":"Partitions"},"numberFormatting":{"enabled":true,"value":"Default"}},"y":{"labelOverride":{"enabled":true,"value":"Partition phase"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"bar-grouped","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Partitions per collection","embedding":{}},"item-8":{"calculatedFields":[],"channels":{"color":{"channelType":"category","inferredType":"String","field":"namespace","type":"nominal","isBinning":false},"x":{"channelType":"category","inferredType":"Date","field":"ts","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours"]},"y":{"channelType":"aggregation","inferredType":"Number","field":"copiedGBPerNS","type":"quantitative","aggregate":"max"}},"chartType":"Line","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]},{"fieldPath":"copiedGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"remainingGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"totalGB","convertTo":"double","arrayParentPaths":[]}],"customisations":{"options":{"colorDiscrete":{"enabled":true,"value":["#16CC62","#196EE6","#E6B219","#E6196E","#19C3E6","#116149","#E65D19","#8A27A5","#1392AB","#C10422","#73E0A1","#8CB6F2","#F0D175","#F075A8","#75DBF0","#70A092","#F09E75","#B97DC9","#71BECD","#DA6879"]}},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"color":{},"x":{"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:00"}},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"filter","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Progress per namespace","embedding":{}},"item-1":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"ts","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours","minutes"]},"y":{"channelType":"aggregation","inferredType":"Number","field":"copiedGB","type":"quantitative","aggregate":"max"},"y_series_0":{"channelType":"aggregation","inferredType":"Number","field":"totalGB","type":"quantitative","aggregate":"max"}},"chartType":"Line","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]},{"fieldPath":"copiedGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"remainingGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"totalGB","convertTo":"double","arrayParentPaths":[]}],"customisations":{"options":{},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"labelOverride":{"enabled":true,"value":"Time"},"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:mm"}},"y":{"numberFormatting":{"enabled":true,"value":"Default"}},"y_series_0":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"CopiedGB vs TotalGB","embedding":{}},"item-3":{"calculatedFields":[],"channels":{"value":{"channelType":"aggregation","inferredType":"Number","field":"copiedGB","type":"quantitative","aggregate":"max"},"target":{"channelType":"aggregation","inferredType":"Number","field":"totalGB","type":"quantitative","aggregate":"max"}},"chartType":"Gauge","convertedFields":[{"fieldPath":"copiedGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"remainingGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"totalGB","convertTo":"double","arrayParentPaths":[]}],"customisations":{"options":{"valueLabel":{"enabled":true,"value":null},"gaugePercentage":{"enabled":true,"value":null}},"conditionalFormatting":[],"axes":{"value":{}},"channels":{"value":{"labelOverride":{"enabled":true,"value":"Copied VS Total"},"numberFormatting":{"enabled":true,"value":"Custom"},"numberDecimals":{"enabled":true,"value":"2"},"numberSuffix":{"enabled":true,"value":"GB"}},"target":{"numberFormatting":{"enabled":true,"value":"Custom"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[],"iconValue":"gauge","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Collection Copy Progress","embedding":{}},"item-6":{"calculatedFields":[],"channels":{"sort":{"channelType":"sort","inferredType":"String","field":"state","type":"nominal","isLimiting":true,"limitingSize":1,"sort":{"axis":"Category","order":"descending"}},"display":{"channelType":"any","inferredType":"String","field":"syncPhase","type":"nominal"}},"chartType":"Top Item","convertedFields":[],"customisations":{"options":{},"conditionalFormatting":[],"axes":{},"channels":{"sort":{},"display":{}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[],"iconValue":"top-item","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Current Phase","embedding":{}},"item-7":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"ts","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours","minutes"]},"y":{"channelType":"category","inferredType":"String","field":"syncPhase","type":"nominal","isBinning":false},"color":{"channelType":"aggregation","inferredType":"String","field":"syncPhase","type":"quantitative","aggregate":"count"}},"chartType":"Heatmap","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]},{"fieldPath":"copiedGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"remainingGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"totalGB","convertTo":"double","arrayParentPaths":[]}],"customisations":{"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}}},"conditionalFormatting":[],"channels":{"x":{"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:mm"}},"y":{},"color":{"numberFormatting":{"enabled":true,"value":"Default"}}},"options":{}},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[],"iconValue":"heatmap","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"mongosync phase","embedding":{}},"item-2":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"ts","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours"]},"y":{"channelType":"aggregation","inferredType":"Number","field":"remainingGB","type":"quantitative","aggregate":"max"},"color":{"channelType":"category","inferredType":"String","field":"namespace","type":"nominal","isBinning":false}},"chartType":"Line","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]},{"fieldPath":"copiedGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"remainingGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"totalGB","convertTo":"double","arrayParentPaths":[]}],"customisations":{"options":{},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"labelOverride":{"enabled":true,"value":"Time"},"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:00"}},"y":{"numberFormatting":{"enabled":true,"value":"Custom"},"numberSuffix":{"enabled":true,"value":" GB"}},"color":{}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Remaining data by namespace (GB)","embedding":{}},"item-9":{"calculatedFields":[],"channels":{"sort":{"channelType":"sort","inferredType":"String","field":"state","type":"nominal","isLimiting":true,"limitingSize":1,"sort":{"axis":"Category","order":"descending"}},"display":{"channelType":"any","inferredType":"Number","field":"nShards","type":"nominal"}},"chartType":"Top Item","convertedFields":[],"customisations":{"options":{},"conditionalFormatting":[],"axes":{},"channels":{"sort":{},"display":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[],"iconValue":"top-item","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Shards / mongosync","embedding":{}},"item-10":{"calculatedFields":[],"channels":{"sort":{"channelType":"sort","inferredType":"String","field":"state","type":"nominal","isLimiting":true,"limitingSize":1,"sort":{"axis":"Category","order":"descending"}},"display":{"channelType":"any","inferredType":"String","field":"state","type":"nominal"}},"chartType":"Top Item","convertedFields":[],"customisations":{"options":{},"conditionalFormatting":[],"axes":{},"channels":{"sort":{},"display":{}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[],"iconValue":"top-item","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"State","embedding":{}},"item-11":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"ts","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours"]},"color":{"channelType":"category","inferredType":"String","field":"shard","type":"nominal","isBinning":false},"y":{"channelType":"aggregation","inferredType":"Number","field":"copiedGBPerMongosync","type":"quantitative","aggregate":"max"}},"chartType":"Line","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]},{"fieldPath":"copiedGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"remainingGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"totalGB","convertTo":"double","arrayParentPaths":[]}],"customisations":{"options":{},"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"labelOverride":{"enabled":true,"value":"Time"},"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:00"}},"color":{},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Copy Distribution by mongosync","embedding":{}},"item-12":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"String","field":"namespace","type":"nominal","isBinning":true,"sort":{"axis":"Category","order":"descending"}},"y":{"channelType":"aggregation","inferredType":"Number","field":"copiedGBPerMongosync","type":"quantitative","aggregate":"mean"},"color":{"channelType":"category","inferredType":"String","field":"shard","type":"nominal","isBinning":false}},"chartType":"Line","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]},{"fieldPath":"copiedGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"remainingGB","convertTo":"double","arrayParentPaths":[]},{"fieldPath":"totalGB","convertTo":"double","arrayParentPaths":[]}],"customisations":{"options":{},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{},"y":{"numberFormatting":{"enabled":true,"value":"Default"}},"color":{}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Progress by namespace and mongosync distribution","embedding":{}},"item-13":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"ts","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours"]},"y":{"channelType":"aggregation","inferredType":"Number","field":"copiedGB","type":"quantitative","aggregate":"min","runningTotal":{"type":"Change in value","baseline":0}}},"chartType":"Grouped Column","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]}],"customisations":{"options":{},"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:00"}},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[{"fieldPath":"ts","type":"Date","disabled":false,"settings":{"type":"period","absolute":{"from":{"enabled":false,"date":"2023-07-26","time":"13:00:00","inclusive":true},"to":{"enabled":false,"date":"2023-07-26","time":"17:00:00","inclusive":true}},"relative":{"from":{"enabled":false,"tense":null,"value":"","unit":null},"until":{"enabled":false,"tense":null,"value":"","unit":null}},"period":{"direction":"previous","count":"2","unit":"day","includeCurrent":true}}}],"iconValue":"column-grouped","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Copy Rate by hour","embedding":{}},"item-14":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"ts","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours","minutes"]},"y":{"channelType":"aggregation","inferredType":"Number","field":"lagTimeSeconds","type":"quantitative","aggregate":"mean"},"color":{"channelType":"category","inferredType":"String","field":"id","type":"nominal","isBinning":false}},"chartType":"Line","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]}],"customisations":{"options":{},"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"labelOverride":{"enabled":true,"value":"Time"},"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:mm"}},"y":{"labelOverride":{"enabled":true,"value":"Lag (mean)"},"numberFormatting":{"enabled":true,"value":"Default"}},"color":{}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-4","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"CEA: Lag between source and destination (seconds)","embedding":{}},"item-15":{"calculatedFields":[],"channels":{"sort":{"channelType":"sort","inferredType":"Date","field":"ts","type":"temporal","sort":{"axis":"Category","order":"descending"},"isLimiting":true,"limitingSize":1},"display":{"channelType":"any","inferredType":"Number","field":"lagTimeSeconds","type":"nominal"}},"chartType":"Top Item","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]}],"customisations":{"options":{"labelSize":{"enabled":true,"value":"75"}},"conditionalFormatting":[],"axes":{},"channels":{"sort":{},"display":{"labelOverride":{"enabled":true,"value":"Lag"},"numberFormatting":{"enabled":true,"value":"Custom"},"numberSuffix":{"enabled":true,"value":"s"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-4","description":"Lag between source and destination","filters":[],"iconValue":"top-item","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Current lag","embedding":{}},"item-16":{"calculatedFields":[],"channels":{"sort":{"channelType":"sort","inferredType":"Date","field":"ts","type":"temporal","sort":{"axis":"Category","order":"descending"},"isLimiting":true,"limitingSize":1},"display":{"channelType":"any","inferredType":"Date","field":"startTime","type":"nominal"}},"chartType":"Top Item","convertedFields":[{"fieldPath":"ts","convertTo":"date","arrayParentPaths":[]},{"fieldPath":"startTime","convertTo":"date","arrayParentPaths":[]}],"customisations":{"options":{},"axes":{},"channels":{"sort":{},"display":{"labelOverride":{"enabled":true,"value":"Start Time"},"timePreset":{"enabled":true,"value":"HH:mm:ss"},"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:mm:ss"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-3","description":"","filters":[],"iconValue":"top-item","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Mongosync started at","embedding":{}}},"dataSources":{"data-source-1":{"alias":"partitions","collection":"partitions","database":"mongosync_reserved_for_internal_use","deployment":"shDest","sourceType":"cluster"},"data-source-2":{"alias":"monitoring","collection":"monitoring","database":"msync_monitor","deployment":"shDest","sourceType":"cluster"},"data-source-3":{"alias":"state","collection":"state","database":"msync_monitor","deployment":"shDest","sourceType":"cluster"},"data-source-4":{"alias":"cea_progress","collection":"cea_progress","database":"msync_monitor","deployment":"shDest","sourceType":"cluster"}},"queries":{}}